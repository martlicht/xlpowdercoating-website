---
import { Image } from "astro:assets";
import gallery1 from "../assets/images/gallery/gallery1.webp";
import gallery2 from "../assets/images/gallery/gallery2.webp";
import gallery3 from "../assets/images/gallery/gallery3.webp";
---

<section
  id="gallery"
  class="bg-[#fffdf8] py-20 md:py-30 px-4 md:px-8 lg:px-16 font-sans"
>
  <div
    class="w-full px-8 md:px-12 lg:px-16 xl:px-24"
  >
    <!-- Title -->
    <h2
      class="text-3xl sm:text-4xl md:text-4xl lg:text-5xl xl:text-6xl font-bold italic uppercase text-gray-900 mb-4 md:mb-4 font-sans text-center py-6 md:py-10"
      data-aos="fade-up"
      data-aos-duration="500"
    >
      PROJECT GALLERY
    </h2>

    <!-- Subtitle -->
    <p
      class="text-base sm:text-lg md:text-xl text-gray-800 mb-6 md:mb-12 font-sans text-center"
    >
      See the transformation from bare metal to finished coating.
    </p>

    <!-- Gallery Images -->
    <div class="flex flex-col md:flex-row gap-4 md:gap-6 justify-center items-center">
      <div 
        class="relative overflow-hidden rounded-lg gallery-image-container"
      >
        <Image
          src={gallery1}
          alt="Custom metal fabrication project - spiral staircase component"
          class="w-full h-full object-cover"
          loading="lazy"
        />
      </div>

      <div 
        class="relative overflow-hidden rounded-lg gallery-image-container"
      >
        <Image
          src={gallery2}
          alt="Custom metal fabrication project - shelving unit"
          class="w-full h-full object-cover"
          loading="lazy"
        />
      </div>

      <div 
        class="relative overflow-hidden rounded-lg gallery-image-container"
      >
        <Image
          src={gallery3}
          alt="Custom metal fabrication project - railing system"
          class="w-full h-full object-cover"
          loading="lazy"
        />
      </div>
    </div>
  </div>
</section>

<style>
  section {
    overflow: visible;
  }

  /* Limitar altura solo en desktop */
  @media (min-width: 768px) {
    section {
      max-height: 720px;
      overflow: hidden;
      display: flex;
      align-items: center;
    }

    section > div {
      max-height: 720px;
      height: 100%;
    }
  }

  /* Asegurar que los márgenes funcionen correctamente */
  section h2 {
    margin-bottom: 1rem !important;
  }

  @media (min-width: 768px) {
    section h2 {
      margin-bottom: 1.5rem !important;
    }
  }

  section p {
    margin-bottom: 2rem !important;
  }

  @media (min-width: 768px) {
    section p {
      margin-bottom: 3rem !important;
    }
  }

  /* Limitar tamaño máximo de las imágenes de la galería */
  .gallery-image-container {
    max-width: 405px;
    max-height: 405px;
    width: 100%;
    height: 100%;
    aspect-ratio: 1 / 1;
  }

  .gallery-image-container img {
    max-width: 405px;
    max-height: 405px;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
</style>
